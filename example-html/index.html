<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>ShogunCore Vanilla Test</title>
    <style>
      body {
        font-family: monospace;
        background: #f8f8f8;
        color: #222;
        padding: 2em;
      }

      pre {
        background: #fff;
        border: 1px solid #ccc;
        padding: 1em;
      }

      .ok {
        color: green;
      }

      .fail {
        color: red;
      }
    </style>
  </head>

  <body>
    <h1>ShogunCore Vanilla Test</h1>
    <pre id="output">Loading...</pre>
    <!-- Load Gun.js first -->
    <script src="../dist/browser/shogun-core.js"></script>
    <script>
      function log(msg, cls) {
        const el = document.getElementById("output");
        el.innerHTML += `<div class="${cls || ""}">${msg}</div>`;
      }
      document.getElementById("output").textContent = "";

      log("âœ“ <b>ShogunCore</b> found on window", "ok");
      const config = {
        gunOptions: {
          radisk: false,
          localStorage: true,
          peers: [
            "https://5eh4twk2f62autunsje4panime.srv.us/gun",
            "https://v5g5jseqhgkp43lppgregcfbvi.srv.us/gun",
            "https://peer.wallie.io/gun",
          ],
        },
      };
      const shogun = window.Shogun(config);

      if (window !== undefined && shogun !== undefined) {
        window.gun = shogun?.gun ?? null;
        window.shogun = shogun ?? null;
        console.log(shogun);
        console.log(shogun.gun);
      }
    </script>
  </body>
</html>
